---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "pfptmeta_metaport_failover Resource - terraform-provider-pfptmeta"
subcategory: ""
description: |-
  MetaPort failover defines a failover model between a primary and a secondary MetaPort clusters.
---

# pfptmeta_metaport_failover (Resource)

MetaPort failover defines a failover model between a primary and a secondary MetaPort clusters.

## Example Usage

```terraform
resource "pfptmeta_network_element" "mapped-subnet" {
  name           = "ms"
  mapped_subnets = ["0.0.0.0/0"]
}

resource "pfptmeta_metaport" "metaport1" {
  name = "metaport1"
}

resource "pfptmeta_metaport" "metaport2" {
  name = "metaport2"
}

resource "pfptmeta_metaport_cluster" "metaport_cluster1" {
  name      = "metaport cluster1"
  metaports = [pfptmeta_metaport.metaport1.id]
}

resource "pfptmeta_metaport_cluster" "metaport_cluster2" {
  name      = "metaport cluster2"
  metaports = [pfptmeta_metaport.metaport2.id]
}

resource "pfptmeta_metaport_failover" "failover" {
  name            = "metaport failover name"
  description     = "metaport failover description"
  mapped_elements = [pfptmeta_network_element.mapped-subnet.id]
  failback {
    trigger = "auto"
  }
  failover {
    delay     = 1
    threshold = 1
    trigger   = "auto"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **name** (String)

### Optional

- **cluster_1** (String) Priority #1 metaport cluster id. This cluster is active by default. When Failover Condition is met for this cluster the higher priority cluster becomes active.
- **cluster_2** (String) Priority #2 metaport cluster id. This cluster becomes active when failover condition is met on a lower priority cluster.
- **description** (String)
- **failback** (Block List, Max: 1) Primary to Secondary cluster switchover. (see [below for nested schema](#nestedblock--failback))
- **failover** (Block List, Max: 1) Secondary to Primary cluster switchover. (see [below for nested schema](#nestedblock--failover))
- **mapped_elements** (Set of String) List of mapped element ids.

### Read-Only

- **active_cluster** (String)
- **id** (String) The ID of this resource.

<a id="nestedblock--failback"></a>
### Nested Schema for `failback`

Required:

- **trigger** (String) ENUM: [auto, manual], defaults to auto.


<a id="nestedblock--failover"></a>
### Nested Schema for `failover`

Required:

- **delay** (Number) Number of minutes to wait before execution of failover, defaults to 1.
- **threshold** (Number) Minimum number of healthy metaports to keep/make a cluster active. Zero (0) denotes all metaports in a cluster.
- **trigger** (String) ENUM: [auto, manual], defaults to auto.


